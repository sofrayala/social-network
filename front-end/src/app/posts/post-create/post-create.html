
<mat-card>
@if(isLoading){
  <mat-spinner></mat-spinner>
}@else{
  <form (ngSubmit)="onSavePost()" [formGroup]="postForm">
    
    <mat-form-field>
      <input matInput type="text" formControlName="title" placeholder="Title" />
      @if (postForm.get('title')?.invalid) {
        <mat-error>Title is required</mat-error>
      }
    </mat-form-field>
    <div>
      <button mat-button type="button" (click)="filePicker.click()">Pick an image</button>
      <input type="file" #filePicker (change)="onImagePicked($event)">
      
    </div>
    <mat-form-field>
      <textarea
      matInput
      rows="6"
      formControlName="content"
      placeholder="Content"
      ></textarea>
      @if (postForm.get('content')?.invalid)
      {
        <mat-error> Content is required</mat-error>
      }
    </mat-form-field>
    <button matButton="filled" type="submit">Save post</button>
  </form>
}
</mat-card>
